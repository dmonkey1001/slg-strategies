<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dell Technologies: SLG Strategy Command Center</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Lora:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

    <style>
        /* Chosen Palette: "Calm Professional" 
           Background: Warm Neutral (Stone/Isabel)
           Text: Dark Stone/Charcoal
           Accents: Muted Blue, Sage, Terracotta
        */
        :root {
            --bg-color: #fcfaf8; /* Very light warm stone */
            --card-bg: #ffffff;
            --text-main: #292524; /* Stone 800 */
            --text-muted: #57534e; /* Stone 600 */
            --accent-blue: #4f46e5; /* Indigo 600 - specific functional accent */
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
        }

        h1, h2, h3, h4 {
            font-family: 'Lora', serif;
        }

        /* Chart Container Styling - MANDATORY */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Constrain width for readability */
            margin-left: auto;
            margin-right: auto;
            height: 350px; /* Base height */
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Interactive Elements */
        .nav-item {
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .nav-item:hover, .nav-item.active {
            border-bottom: 2px solid #ea580c; /* Orange-600 */
            color: #ea580c;
        }

        .opportunity-card {
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }
        .opportunity-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>

    <!-- 
    Application Structure Plan:
    1. Header: Branding and high-level context.
    2. Executive Dashboard (The Landscape): 
       - Visualizes "What matters" (Priorities) and "Who decides" (Governance).
       - Interaction: Click charts to reveal specific sales plays.
    3. Fiscal Intelligence (Follow the Money):
       - Visualizes "Where the money is" (Funding) and "When to ask" (Timeline).
       - Interaction: Toggle timeline views.
    4. Opportunity Matrix (The Pitch):
       - Connects Problems -> Solutions.
       - Interaction: Click cards to expand details.
    5. State Explorer (Deep Dives):
       - Select-based navigation for ALL 50 STATES.
       - Dynamic content replacement for specific state data including Agency names and Contract vehicles.
    -->
    
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased min-h-screen">

    <!-- Navigation / Header -->
    <header class="bg-white border-b border-stone-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-stone-800 tracking-tight font-serif">SLG Strategy<span class="text-orange-600">.AI</span></span>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <a href="#landscape" class="nav-item text-stone-500 font-medium px-1 py-4 text-sm">Market Landscape</a>
                    <a href="#fiscal" class="nav-item text-stone-500 font-medium px-1 py-4 text-sm">Fiscal Intel</a>
                    <a href="#opportunities" class="nav-item text-stone-500 font-medium px-1 py-4 text-sm">Opportunity Map</a>
                    <a href="#explorer" class="nav-item text-stone-500 font-medium px-1 py-4 text-sm">State Explorer</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-16">

        <!-- Intro -->
        <div class="text-center max-w-3xl mx-auto">
            <h1 class="text-4xl font-bold text-stone-900 mb-4">State & Local Government Strategy</h1>
            <p class="text-lg text-stone-600 leading-relaxed">
                A comprehensive analysis of the 50-state market landscape. Use this interactive dashboard to align Dell Technologies' solution portfolio with current legislative priorities, budget cycles, and governance models.
            </p>
        </div>

        <!-- SECTION 1: MARKET LANDSCAPE -->
        <section id="landscape" class="scroll-mt-20">
            <div class="mb-6 border-l-4 border-indigo-500 pl-4">
                <h2 class="text-2xl font-bold text-stone-800">1. Executive Landscape</h2>
                <p class="text-stone-600 mt-1">
                    Understanding the "What" and the "Who". The charts below visualize the top strategic themes across all 50 states and the breakdown of IT governance models.
                    <span class="text-indigo-600 font-medium ml-1">Click on the chart segments to unlock specific sales strategies.</span>
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Priorities Chart -->
                <div class="bg-white rounded-xl shadow-sm border border-stone-100 p-6">
                    <h3 class="text-lg font-semibold text-stone-800 mb-4">Strategic Priorities (Top 5)</h3>
                    <div class="chart-container">
                        <canvas id="prioritiesChart"></canvas>
                    </div>
                </div>

                <!-- Governance Chart -->
                <div class="bg-white rounded-xl shadow-sm border border-stone-100 p-6">
                    <h3 class="text-lg font-semibold text-stone-800 mb-4">Governance Models</h3>
                    <div class="chart-container">
                        <canvas id="governanceChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Dynamic Insight Box -->
            <div id="landscape-insight" class="mt-6 bg-stone-100 rounded-lg p-6 border border-stone-200 transition-all duration-300">
                <div class="flex items-start">
                    <div class="flex-shrink-0 text-2xl mr-4">üí°</div>
                    <div>
                        <h4 class="text-lg font-bold text-stone-900 mb-2" id="insight-title">Interact to Learn</h4>
                        <p class="text-stone-700" id="insight-text">
                            Click on any bar in the "Strategic Priorities" chart or any segment in the "Governance Models" chart to reveal a tailored sales motion for that specific segment.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: FISCAL INTELLIGENCE -->
        <section id="fiscal" class="scroll-mt-20">
            <div class="mb-6 border-l-4 border-emerald-500 pl-4">
                <h2 class="text-2xl font-bold text-stone-800">2. Fiscal & Budgetary Intelligence</h2>
                <p class="text-stone-600 mt-1">
                    Understanding the "Where" and the "When". Identifying funding sources outside the general fund and timing your pitch to the budget cycle is critical for deal velocity.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Funding Source Chart -->
                <div class="lg:col-span-1 bg-white rounded-xl shadow-sm border border-stone-100 p-6">
                    <h3 class="text-lg font-semibold text-stone-800 mb-4">IT Funding Mix</h3>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="fundingChart"></canvas>
                    </div>
                    <p class="text-xs text-center text-stone-500 mt-4">Average across all 50 states</p>
                </div>

                <!-- Budget Timeline Visualization -->
                <div class="lg:col-span-2 bg-white rounded-xl shadow-sm border border-stone-100 p-6 flex flex-col justify-center">
                    <h3 class="text-lg font-semibold text-stone-800 mb-6">The "Use It or Lose It" Timeline</h3>
                    
                    <div class="relative">
                        <!-- Timeline Line -->
                        <div class="absolute left-0 top-1/2 w-full h-1 bg-stone-200 -translate-y-1/2 z-0"></div>

                        <!-- Grid of Months -->
                        <div class="grid grid-cols-4 gap-4 relative z-10">
                            <!-- Q1 -->
                            <div class="text-center group cursor-pointer hover:-translate-y-1 transition-transform">
                                <div class="w-4 h-4 bg-stone-300 rounded-full mx-auto mb-2 group-hover:bg-orange-500"></div>
                                <div class="text-sm font-bold text-stone-400">JAN - MAR</div>
                                <div class="mt-2 bg-stone-50 border border-stone-200 p-2 rounded text-xs text-stone-600 shadow-sm">
                                    <strong>NY Budget Close</strong><br>(March 31)
                                </div>
                            </div>

                            <!-- Q2 -->
                            <div class="text-center group cursor-pointer hover:-translate-y-1 transition-transform">
                                <div class="w-6 h-6 bg-orange-500 rounded-full mx-auto mb-2 shadow-lg ring-4 ring-orange-100"></div>
                                <div class="text-sm font-bold text-orange-600">APR - JUNE</div>
                                <div class="mt-2 bg-orange-50 border border-orange-200 p-2 rounded text-xs text-stone-800 shadow-sm">
                                    <strong>Flush Funds!</strong><br>46 States Close June 30
                                </div>
                            </div>

                            <!-- Q3 -->
                            <div class="text-center group cursor-pointer hover:-translate-y-1 transition-transform">
                                <div class="w-4 h-4 bg-stone-300 rounded-full mx-auto mb-2 group-hover:bg-orange-500"></div>
                                <div class="text-sm font-bold text-stone-400">JULY - SEPT</div>
                                <div class="mt-2 bg-stone-50 border border-stone-200 p-2 rounded text-xs text-stone-600 shadow-sm">
                                    <strong>TX Budget Close</strong><br>(Aug 31)
                                </div>
                            </div>

                            <!-- Q4 -->
                            <div class="text-center group cursor-pointer hover:-translate-y-1 transition-transform">
                                <div class="w-4 h-4 bg-stone-300 rounded-full mx-auto mb-2 group-hover:bg-orange-500"></div>
                                <div class="text-sm font-bold text-stone-400">OCT - DEC</div>
                                <div class="mt-2 bg-stone-50 border border-stone-200 p-2 rounded text-xs text-stone-600 shadow-sm">
                                    <strong>Planning Season</strong><br>Budget Proposals Drafted
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-8 text-sm text-stone-600 bg-stone-50 p-3 rounded">
                        <strong>Strategy:</strong> 92% of states end their fiscal year on June 30th. The "Flush Fund" period (May-June) allows agencies to spend remaining budget on discretionary items like Client Peripherals and Server Upgrades without formal RFPs if under threshold.
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: OPPORTUNITY MAP -->
        <section id="opportunities" class="scroll-mt-20">
            <div class="mb-6 border-l-4 border-orange-500 pl-4">
                <h2 class="text-2xl font-bold text-stone-800">3. The Opportunity Map</h2>
                <p class="text-stone-600 mt-1">
                    Connecting the dots. We have mapped the top 3 high-probability sales plays by connecting a specific <span class="font-bold">State Initiative</span> to a <span class="font-bold">Dell Solution</span>.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Card 1 -->
                <div class="opportunity-card bg-white rounded-xl shadow-sm border border-stone-100 overflow-hidden flex flex-col h-full" onclick="toggleOppDetails(1)">
                    <div class="bg-indigo-600 h-2 w-full"></div>
                    <div class="p-6 flex-grow">
                        <div class="flex justify-between items-start mb-4">
                            <span class="bg-indigo-100 text-indigo-700 text-xs font-bold px-2 py-1 rounded uppercase tracking-wide">Play #1</span>
                            <span class="text-2xl">üõ°Ô∏è</span>
                        </div>
                        <h3 class="text-xl font-bold text-stone-800 mb-2">"Whole of State" Cyber</h3>
                        <p class="text-stone-600 text-sm mb-4">States are moving to protect counties/cities under one umbrella.</p>
                        <button class="text-indigo-600 text-sm font-bold hover:underline mt-auto text-left">View Solution Mapping &darr;</button>
                    </div>
                    <div id="opp-details-1" class="hidden bg-stone-50 p-6 border-t border-stone-100 text-sm animate-fade">
                        <p class="mb-2"><strong>The Dell Solution:</strong><br>Cyber Recovery Vault + Managed Detection & Response (MDR).</p>
                        <p class="text-stone-500"><strong>Hidden Funding:</strong> Look for "Homeland Security Grants" (FEMA) which are specifically earmarked for cybersecurity resilience.</p>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="opportunity-card bg-white rounded-xl shadow-sm border border-stone-100 overflow-hidden flex flex-col h-full" onclick="toggleOppDetails(2)">
                    <div class="bg-sky-500 h-2 w-full"></div>
                    <div class="p-6 flex-grow">
                        <div class="flex justify-between items-start mb-4">
                            <span class="bg-sky-100 text-sky-700 text-xs font-bold px-2 py-1 rounded uppercase tracking-wide">Play #2</span>
                            <span class="text-2xl">‚òÅÔ∏è</span>
                        </div>
                        <h3 class="text-xl font-bold text-stone-800 mb-2">Cloud Smart / Repatriation</h3>
                        <p class="text-stone-600 text-sm mb-4">Agencies are facing massive bills from public cloud egress fees.</p>
                        <button class="text-sky-600 text-sm font-bold hover:underline mt-auto text-left">View Solution Mapping &darr;</button>
                    </div>
                    <div id="opp-details-2" class="hidden bg-stone-50 p-6 border-t border-stone-100 text-sm animate-fade">
                        <p class="mb-2"><strong>The Dell Solution:</strong><br>APEX Multi-Cloud & Storage-as-a-Service.</p>
                        <p class="text-stone-500"><strong>The Pitch:</strong> "Predictable Costs." Move heavy workloads back on-prem via APEX to eliminate egress fees while keeping OpEx model.</p>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="opportunity-card bg-white rounded-xl shadow-sm border border-stone-100 overflow-hidden flex flex-col h-full" onclick="toggleOppDetails(3)">
                    <div class="bg-emerald-500 h-2 w-full"></div>
                    <div class="p-6 flex-grow">
                        <div class="flex justify-between items-start mb-4">
                            <span class="bg-emerald-100 text-emerald-700 text-xs font-bold px-2 py-1 rounded uppercase tracking-wide">Play #3</span>
                            <span class="text-2xl">ü§ñ</span>
                        </div>
                        <h3 class="text-xl font-bold text-stone-800 mb-2">AI-Ready Workforce</h3>
                        <p class="text-stone-600 text-sm mb-4">35+ States have AI task forces focused on workforce efficiency.</p>
                        <button class="text-emerald-600 text-sm font-bold hover:underline mt-auto text-left">View Solution Mapping &darr;</button>
                    </div>
                    <div id="opp-details-3" class="hidden bg-stone-50 p-6 border-t border-stone-100 text-sm animate-fade">
                        <p class="mb-2"><strong>The Dell Solution:</strong><br>Latitude AI-PCs (NPU enabled) & Precision Workstations.</p>
                        <p class="text-stone-500"><strong>Target:</strong> Dept of Labor & HHS. Pitch: "Empowering case workers with AI tools to process claims faster."</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: STATE EXPLORER -->
        <section id="explorer" class="scroll-mt-20">
            <div class="mb-6 border-l-4 border-stone-800 pl-4 flex flex-col sm:flex-row justify-between items-start sm:items-center">
                <div>
                    <h2 class="text-2xl font-bold text-stone-800">4. State Deep Dives</h2>
                    <p class="text-stone-600 mt-1">Select any of the 50 states to view detailed intelligence.</p>
                </div>
                <div class="mt-4 sm:mt-0">
                    <select id="stateSelector" class="block w-full pl-3 pr-10 py-2 text-base border-stone-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md bg-white shadow-sm border">
                        <option value="AL">Alabama</option>
                        <option value="AK">Alaska</option>
                        <option value="AZ">Arizona</option>
                        <option value="AR">Arkansas</option>
                        <option value="CA" selected>California</option>
                        <option value="CO">Colorado</option>
                        <option value="CT">Connecticut</option>
                        <option value="DE">Delaware</option>
                        <option value="FL">Florida</option>
                        <option value="GA">Georgia</option>
                        <option value="HI">Hawaii</option>
                        <option value="ID">Idaho</option>
                        <option value="IL">Illinois</option>
                        <option value="IN">Indiana</option>
                        <option value="IA">Iowa</option>
                        <option value="KS">Kansas</option>
                        <option value="KY">Kentucky</option>
                        <option value="LA">Louisiana</option>
                        <option value="ME">Maine</option>
                        <option value="MD">Maryland</option>
                        <option value="MA">Massachusetts</option>
                        <option value="MI">Michigan</option>
                        <option value="MN">Minnesota</option>
                        <option value="MS">Mississippi</option>
                        <option value="MO">Missouri</option>
                        <option value="MT">Montana</option>
                        <option value="NE">Nebraska</option>
                        <option value="NV">Nevada</option>
                        <option value="NH">New Hampshire</option>
                        <option value="NJ">New Jersey</option>
                        <option value="NM">New Mexico</option>
                        <option value="NY">New York</option>
                        <option value="NC">North Carolina</option>
                        <option value="ND">North Dakota</option>
                        <option value="OH">Ohio</option>
                        <option value="OK">Oklahoma</option>
                        <option value="OR">Oregon</option>
                        <option value="PA">Pennsylvania</option>
                        <option value="RI">Rhode Island</option>
                        <option value="SC">South Carolina</option>
                        <option value="SD">South Dakota</option>
                        <option value="TN">Tennessee</option>
                        <option value="TX">Texas</option>
                        <option value="UT">Utah</option>
                        <option value="VT">Vermont</option>
                        <option value="VA">Virginia</option>
                        <option value="WA">Washington</option>
                        <option value="WV">West Virginia</option>
                        <option value="WI">Wisconsin</option>
                        <option value="WY">Wyoming</option>
                    </select>
                </div>
            </div>

            <div id="state-content" class="bg-white rounded-xl shadow-lg overflow-hidden border border-stone-200">
                <!-- Header -->
                <div class="bg-stone-800 text-white p-6 flex justify-between items-center">
                    <div>
                        <h3 id="state-name" class="text-3xl font-serif">California</h3>
                        <p id="state-governance" class="text-stone-300 text-sm mt-1">Consolidated (Hybrid)</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-stone-400 uppercase tracking-wider">Fiscal Year</div>
                        <div id="state-fy" class="font-bold text-lg">July 1 - June 30</div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-0 divide-y md:divide-y-0 md:divide-x divide-stone-200">
                    <!-- Column 1: Priorities -->
                    <div class="p-6">
                        <h4 class="text-sm font-bold text-stone-400 uppercase tracking-wide mb-4">Strategic Priorities</h4>
                        <ul id="state-priorities" class="space-y-3">
                            <!-- Populated by JS -->
                        </ul>
                    </div>

                    <!-- Column 2: Purchasing -->
                    <div class="p-6">
                        <h4 class="text-sm font-bold text-stone-400 uppercase tracking-wide mb-4">Purchasing & Vehicles</h4>
                        <div class="mb-4">
                            <span class="block text-xs text-stone-500">Buying Model</span>
                            <span id="state-buying-model" class="font-medium text-stone-800">NASPO ValuePoint Priority</span>
                        </div>
                        <div>
                            <span class="block text-xs text-stone-500">Key Contract</span>
                            <span id="state-contract" class="font-medium text-stone-800 text-indigo-600">CALNET / NASPO Computer</span>
                        </div>
                    </div>

                    <!-- Column 3: The Play -->
                    <div class="p-6 bg-orange-50">
                        <h4 class="text-sm font-bold text-orange-800 uppercase tracking-wide mb-4">üèÜ The "High Prob" Play</h4>
                        <p id="state-play" class="text-stone-800 font-medium italic">
                            "Focus on Dept of Technology (CDT) debt reduction. Pitch Mainframe-to-Linux migration services."
                        </p>
                        <div class="mt-4 pt-4 border-t border-orange-200">
                            <span class="block text-xs text-orange-600 font-bold">Target Agency</span>
                            <span id="state-agency" class="text-stone-800">California Dept of Technology</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="border-t border-stone-200 pt-8 pb-12 text-center">
            <p class="text-stone-500 text-sm mb-2">Dell Technologies &copy; 2026</p>
            <p class="text-stone-400 text-xs">Internal Use Only. Confidential Market Intelligence.</p>
        </footer>

    </main>

    <!-- Application Logic -->
    <script>
        // --- 50 STATE DATA STORE ---
        const stateData = {
            AL: { name: "Alabama", governance: "Consolidated - OIT controls all executive branch IT", fy: "Oct 1 - Sept 30", priorities: ["Rural Broadband Expansion", "Medicaid Systems Modernization", "Unified Cybersecurity"], buyingModel: "State Term Contracts (mandatory)", contract: "AL-OIT Purchasing Contracts", play: "Pitch network infrastructure to support the rural broadband push.", agency: "Office of Info Technology (OIT)" },
            AK: { name: "Alaska", governance: "Federated - OIT sets standards, agencies buy", fy: "July 1 - June 30", priorities: ["Remote/Rural Connectivity", "Cloud Migration for Resiliency", "Digital Citizen Identity"], buyingModel: "NASPO ValuePoint", contract: "NASPO Computer Equipment", play: "Ruggedized Latitude/Rugged sales for field workers in remote areas.", agency: "Office of Info Technology (OIT)" },
            AZ: { name: "Arizona", governance: "Consolidated - Strategic Enterprise Tech (ASET)", fy: "July 1 - June 30", priorities: ["Cloud First (AZRAMP)", "Water Resource Data Analytics", "Digital DMV"], buyingModel: "State Procurement Office (SPO)", contract: "AZ State Contract", play: "Ensure all cloud solutions meet AZRAMP certification. Pitch APEX.", agency: "Dept of Admin (ADOA-ASET)" },
            AR: { name: "Arkansas", governance: "Consolidated - TSS Division of Info Systems", fy: "July 1 - June 30", priorities: ["Broadband Office Expansion", "Shared Services Consolidation", "K-12 Cyber Defense"], buyingModel: "NASPO ValuePoint", contract: "AR State Contract (TSS)", play: "Focus on consolidating agency data centers into the state private cloud.", agency: "Transformation & Shared Services (TSS)" },
            CA: { name: "California", governance: "Consolidated (Hybrid) - CDT holds veto power", fy: "July 1 - June 30", priorities: ["Broadband for All (Middle Mile)", "Stabilizing Legacy Systems (EDD)", "Wildfire AI Modeling"], buyingModel: "NASPO ValuePoint Priority", contract: "CALNET / NASPO Computer", play: "Focus on reducing technical debt in EDD. Pitch Mainframe-to-Linux migration.", agency: "California Dept of Technology (CDT)" },
            CO: { name: "Colorado", governance: "Consolidated - OIT is a strong central authority", fy: "July 1 - June 30", priorities: ["Digital ID (myColorado app)", "Technical Debt Remediation", "Behavioral Health Data"], buyingModel: "NASPO ValuePoint", contract: "CO State Agreements", play: "Pitch Identity Management and security for the myColorado ecosystem.", agency: "Governor's Office of IT (OIT)" },
            CT: { name: "Connecticut", governance: "Consolidated - DAS/BITS centralizes service", fy: "July 1 - June 30", priorities: ["Mainframe Retirement", "All-Digital Government", "Workforce Flexibility"], buyingModel: "NASPO ValuePoint", contract: "CT DAS Contracts", play: "The 'Bit Modernization' fund is active. Pitch App Modernization services.", agency: "Dept of Admin Services (DAS)" },
            DE: { name: "Delaware", governance: "Highly Consolidated - DTI controls everything", fy: "July 1 - June 30", priorities: ["Broadband Infrastructure", "Cyber Security (Whole of State)", "Digital Government"], buyingModel: "Central Contracting", contract: "GSS Contracts", play: "DTI manages all schools and agencies. One pitch covers the whole state.", agency: "Dept of Tech & Information (DTI)" },
            FL: { name: "Florida", governance: "Consolidated (Moving) - FL Digital Service", fy: "July 1 - June 30", priorities: ["FL Digital Service (Modernization)", "Cloud-First Legislation", "Hurricane Resilience"], buyingModel: "State Term Contracts (STC)", contract: "FL State Term Contract", play: "Strong push for cloud-native apps. Position DevOps Ready Platforms.", agency: "Florida Digital Service (FLDS)" },
            GA: { name: "Georgia", governance: "Outsourced Model - GTA manages vendors", fy: "July 1 - June 30", priorities: ["Cybersecurity (Georgia Cyber Center)", "Rural Broadband", "Cloud Consolidation"], buyingModel: "GTA Direct & NASPO", contract: "GTA Enterprise Contracts", play: "Georgia uses an outsourced model (Capgemini/etc). Partner with GSIs.", agency: "Georgia Tech Authority (GTA)" },
            HI: { name: "Hawaii", governance: "Consolidated - ETS leads modernization", fy: "July 1 - June 30", priorities: ["Mainframe Modernization", "Digital Workforce", "IT Consolidation"], buyingModel: "NASPO ValuePoint", contract: "HI SPO Price List", play: "Pitch VDI and remote work solutions for inter-island collaboration.", agency: "Office of ETS" },
            ID: { name: "Idaho", governance: "Consolidated - ITS created recently", fy: "July 1 - June 30", priorities: ["Cybersecurity Task Force", "Rural Broadband", "ERP Modernization (Luma)"], buyingModel: "NASPO ValuePoint", contract: "ID State Contracts", play: "ITS is still consolidating agencies. Pitch 'Standardization' of endpoints.", agency: "Information Tech Services (ITS)" },
            IL: { name: "Illinois", governance: "Consolidated - DoIT created by executive order", fy: "July 1 - June 30", priorities: ["Identify & Access Mgmt", "ERP Modernization", "Smart State Initiatives"], buyingModel: "Unified Procurement", contract: "IL Master Contracts", play: "Pitch security overlays for the new statewide ERP rollout.", agency: "Dept of Innovation & Tech (DoIT)" },
            IN: { name: "Indiana", governance: "Consolidated - IOT provides shared services", fy: "July 1 - June 30", priorities: ["Data Analytics (MPH)", "Local Gov Cyber Grants", "Cloud Smart"], buyingModel: "QPA (Quantity Purchase Agrmts)", contract: "IN QPA", play: "Indiana is a leader in Data Analytics. Pitch PowerScale for unstructured data.", agency: "Indiana Office of Tech (IOT)" },
            IA: { name: "Iowa", governance: "Consolidated - OCIO moving to Dept of Mgmt", fy: "July 1 - June 30", priorities: ["Broadband Grants", "Citizen Portal (One Stop)", "Endpoint Security"], buyingModel: "NASPO ValuePoint", contract: "IA DAS Contracts", play: "Focus on the broadband grant recipients for edge infrastructure.", agency: "Office of the CIO (OCIO)" },
            KS: { name: "Kansas", governance: "Consolidated - OITS centralizes IT", fy: "July 1 - June 30", priorities: ["Cybersecurity Act Compliance", "Modernization Fund", "Data Center Consolidation"], buyingModel: "NASPO ValuePoint", contract: "KS State Contracts", play: "Leverage the new 'IT Modernization Fund' for legacy system replacement.", agency: "Office of ITS (OITS)" },
            KY: { name: "Kentucky", governance: "Consolidated - COT manages infrastructure", fy: "July 1 - June 30", priorities: ["Education Technology", "Rural Broadband", "Cybersecurity"], buyingModel: "NASPO ValuePoint", contract: "KY Master Agreements", play: "K-12 and State IT are closely linked. Pitch EdTech + State Security.", agency: "Commonwealth Office of Tech (COT)" },
            LA: { name: "Louisiana", governance: "Consolidated - OTS (Office of Tech Services)", fy: "July 1 - June 30", priorities: ["Legacy System Modernization", "Cyber Defense (State Police)", "Cloud Migration"], buyingModel: "State Contracts", contract: "LA OTS Contracts", play: "OTS charges back to agencies. Pitch cost-saving consolidation strategies.", agency: "Office of Tech Services (OTS)" },
            ME: { name: "Maine", governance: "Consolidated - OIT serves all agencies", fy: "July 1 - June 30", priorities: ["Workforce Development", "Broadband Connectivity", "Cybersecurity"], buyingModel: "NASPO ValuePoint", contract: "ME Master Agreements", play: "Pitch workforce retraining tools and learning management infrastructure.", agency: "Office of Info Tech (OIT)" },
            MD: { name: "Maryland", governance: "Consolidated - DoIT is central authority", fy: "July 1 - June 30", priorities: ["Cyber Defense (MD THINK)", "Total Human Services Platform", "Cloud First"], buyingModel: "CATS+ Contract Vehicle", contract: "CATS+ (Consulting & Tech)", play: "MD THINK is a massive health platform. Pitch high-performance storage.", agency: "Dept of Info Tech (DoIT)" },
            MA: { name: "Massachusetts", governance: "Consolidated - EOTSS", fy: "July 1 - June 30", priorities: ["Digital Services (Mass.gov)", "Cybersecurity Operations", "Hybrid Workforce"], buyingModel: "ITS74 / ITC73", contract: "MA State Contracts", play: "EOTSS focuses on user experience. Pitch 'Digital Employee Experience' tools.", agency: "Exec Office of Tech (EOTSS)" },
            MI: { name: "Michigan", governance: "Consolidated - DTMB", fy: "Oct 1 - Sept 30", priorities: ["MiLogin (Identity)", "Legacy Modernization", "Cybersecurity"], buyingModel: "MiDeal (extends to locals)", contract: "DTMB Contracts", play: "MiLogin is the crown jewel. Pitch security extensions for digital identity.", agency: "Dept of Tech, Mgmt & Budget (DTMB)" },
            MN: { name: "Minnesota", governance: "Consolidated - MNIT Services", fy: "July 1 - June 30", priorities: ["Customer Experience (CX)", "Cybersecurity", "Modernization Playbook"], buyingModel: "NASPO ValuePoint", contract: "MN State Contracts", play: "MNIT charges back heavily. Pitch 'As-a-Service' to lower upfront agency costs.", agency: "MNIT Services" },
            MS: { name: "Mississippi", governance: "Consolidated - ITS", fy: "July 1 - June 30", priorities: ["Education Connectivity", "Cloud Adoption", "Telehealth"], buyingModel: "EPL (Express Products List)", contract: "MS EPL", play: "Get on the EPL. It is the 'Bible' for Mississippi purchasing.", agency: "Dept of Info Tech Services (ITS)" },
            MO: { name: "Missouri", governance: "Consolidated - OA-ITSD", fy: "July 1 - June 30", priorities: ["Citizen Experience", "Data Analytics", "Application Modernization"], buyingModel: "NASPO ValuePoint", contract: "MO State Contracts", play: "Pitch Data Analytics platforms to the Office of Administration.", agency: "OA-ITSD" },
            MT: { name: "Montana", governance: "Consolidated - SITSD", fy: "July 1 - June 30", priorities: ["Digital Government", "Public Safety Radio", "Broadband"], buyingModel: "Term Contracts", contract: "MT State Term Contracts", play: "SITSD is modernizing the state network. Pitch Edge networking gear.", agency: "State Info Tech Services (SITSD)" },
            NE: { name: "Nebraska", governance: "Consolidated - OCIO", fy: "July 1 - June 30", priorities: ["IT Consolidation (ongoing)", "Broadband", "Cost Control"], buyingModel: "NASPO ValuePoint", contract: "NE State Contracts", play: "Consolidation is the main theme. Pitch server farm consolidation tools.", agency: "Office of the CIO (OCIO)" },
            NV: { name: "Nevada", governance: "Consolidated - EITS", fy: "July 1 - June 30", priorities: ["Smart State", "Digitizing Services", "Modernization"], buyingModel: "NASPO ValuePoint", contract: "NV State Contracts", play: "Nevada is big on 'Smart Cities'. Pitch IoT Edge Gateways.", agency: "Enterprise IT Services (EITS)" },
            NH: { name: "New Hampshire", governance: "Consolidated - DoIT", fy: "July 1 - June 30", priorities: ["Cybersecurity", "School Connectivity", "Cloud Migration"], buyingModel: "NASPO ValuePoint", contract: "NH State Contracts", play: "Pitch cyber recovery solutions for the K-12/State shared network.", agency: "Dept of Info Tech (DoIT)" },
            NJ: { name: "New Jersey", governance: "Federated - OIT sets standards", fy: "July 1 - June 30", priorities: ["Cloud Modernization", "Digital Identity", "Shared Services"], buyingModel: "NJ Start", contract: "NJ State Contracts", play: "Agencies have buying power. Target NJ Transit and Human Services directly.", agency: "Office of Info Tech (OIT)" },
            NM: { name: "New Mexico", governance: "Consolidated - DoIT", fy: "July 1 - June 30", priorities: ["Broadband (ConnectNM)", "P25 Radio Upgrade", "Cybersecurity"], buyingModel: "NASPO ValuePoint", contract: "NM State Price Agreements", play: "Broadband is #1. Pitch middle-mile network infrastructure.", agency: "Dept of Info Tech (DoIT)" },
            NY: { name: "New York", governance: "Consolidated - ITS", fy: "April 1 - March 31", priorities: ["JSOC (Security)", "MTA Infrastructure", "Broadband"], buyingModel: "OGS Aggregate Buy", contract: "NYS OGS Umbrella", play: "The JSOC connects cities to state. Pitch Managed Detection & Response (MDR).", agency: "NYS ITS" },
            NC: { name: "North Carolina", governance: "Consolidated - DIT", fy: "July 1 - June 30", priorities: ["Data Analytics", "Broadband / Digital Equity", "911 Upgrades"], buyingModel: "NC ITS Contracts", contract: "920S / 204X Contracts", play: "NC is a data leader. Pitch unstructured data storage for analytics.", agency: "Dept of Info Tech (DIT)" },
            ND: { name: "North Dakota", governance: "Highly Consolidated - NDIT", fy: "July 1 - June 30", priorities: ["Cybersecurity (Whole of State)", "Cloud First", "STEM Education"], buyingModel: "NASPO ValuePoint", contract: "ND State Contracts", play: "NDIT is the gold standard for 'Whole of State'. Pitch comprehensive Cyber Vault.", agency: "ND Info Tech (NDIT)" },
            OH: { name: "Ohio", governance: "Consolidated - DAS/OIT", fy: "July 1 - June 30", priorities: ["InnovateOhio", "Cloud Smart", "Digital ID"], buyingModel: "State Term Schedule (STS)", contract: "OH STS Contracts", play: "InnovateOhio drives digital projects. Pitch user-experience tools.", agency: "DAS / OIT" },
            OK: { name: "Oklahoma", governance: "Consolidated - OMES", fy: "July 1 - June 30", priorities: ["IT Unification", "Cyber Command", "Citizen Experience"], buyingModel: "SW10xx Contracts", contract: "OK Statewide Contracts", play: "OMES serves all agencies. Pitch VDI for standardized remote work.", agency: "Office of Mgmt & Ent Services (OMES)" },
            OR: { name: "Oregon", governance: "Consolidated - EIS", fy: "July 1 - June 30", priorities: ["Cybersecurity Center of Excellence", "Legacy Modernization", "Cloud"], buyingModel: "NASPO ValuePoint", contract: "OR Cooperative Contracts", play: "Oregon is heavily focused on cyber. Pitch Cyber Recovery Vault.", agency: "Enterprise Info Services (EIS)" },
            PA: { name: "Pennsylvania", governance: "Consolidated - OA/OIT", fy: "July 1 - June 30", priorities: ["Citizen Service Delivery", "Shared Services", "Broadband"], buyingModel: "COSTARS (Locals use this)", contract: "PA State Contracts", play: "COSTARS is huge for local gov sales. Ensure channel partners are leveraging it.", agency: "Office for Info Tech (OA/OIT)" },
            RI: { name: "Rhode Island", governance: "Consolidated - ETSS", fy: "July 1 - June 30", priorities: ["Digital Excellence", "Education Tech", "Workforce"], buyingModel: "MPA (Master Price Agrmt)", contract: "RI MPA", play: "Pitch Education Technology to ETSS for statewide school initiatives.", agency: "Div of Enterprise Tech (ETSS)" },
            SC: { name: "South Carolina", governance: "Federated - Admin/DTO sets policy", fy: "July 1 - June 30", priorities: ["Shared Services", "Cybersecurity", "Broadband"], buyingModel: "State Term Contracts", contract: "SC State Term Contracts", play: "Pitch Shared Services models to the Dept of Admin to resell to agencies.", agency: "Dept of Admin (DTO)" },
            SD: { name: "South Dakota", governance: "Consolidated - BIT", fy: "July 1 - June 30", priorities: ["Rural Telehealth", "Public Safety", "Broadband"], buyingModel: "NASPO ValuePoint", contract: "SD State Contracts", play: "BIT manages the radio network too. Pitch rugged edge devices for public safety.", agency: "Bureau of Info & Telecom (BIT)" },
            TN: { name: "Tennessee", governance: "Consolidated - STS", fy: "July 1 - June 30", priorities: ["ERP (Edison)", "Cloud Smart", "Cybersecurity"], buyingModel: "SWC (Statewide Contract)", contract: "TN SWC", play: "STS operates like a business. Pitch APEX for flexible consumption.", agency: "Strategic Tech Solutions (STS)" },
            TX: { name: "Texas", governance: "Highly Federated - DIR sets catalog", fy: "Sept 1 - Aug 31", priorities: ["TxDOT Smart Corridors", "Grid Reliability", "Border Security"], buyingModel: "DIR Cooperative Contracts", contract: "TX-DIR-TSO", play: "Ensure all offerings are on DIR. Pitch to TxDOT and HHS directly.", agency: "Dept of Info Resources (DIR)" },
            UT: { name: "Utah", governance: "Highly Consolidated - DTS", fy: "July 1 - June 30", priorities: ["Digital Government Leader", "Cloud", "User Experience"], buyingModel: "State Cooperative Contracts", contract: "UT State Contracts", play: "Utah is #1 in Digital Gov. Pitch advanced AI-driven citizen services.", agency: "Dept of Tech Services (DTS)" },
            VT: { name: "Vermont", governance: "Consolidated - ADS", fy: "July 1 - June 30", priorities: ["Modernization (DMV)", "Cybersecurity", "Connectivity"], buyingModel: "NASPO ValuePoint", contract: "VT State Contracts", play: "ADS was formed recently. Pitch tools to help them audit agency assets.", agency: "Agency of Digital Services (ADS)" },
            VA: { name: "Virginia", governance: "Highly Centralized - VITA", fy: "July 1 - June 30", priorities: ["Cloud First", "Cybersecurity", "Messaging Consolidation"], buyingModel: "VITA Contracts", contract: "VITA Contracts", play: "VITA is the gatekeeper. You must win the VITA contract to sell anywhere.", agency: "VA Info Tech Agency (VITA)" },
            WA: { name: "Washington", governance: "Federated - WaTech sets policy", fy: "July 1 - June 30", priorities: ["Privacy", "Cybersecurity", "One Washington (ERP)"], buyingModel: "Master Contracts", contract: "WA Master Contracts", play: "Privacy is huge in WA. Pitch data governance and compliance tools.", agency: "WaTech (CTS)" },
            WV: { name: "West Virginia", governance: "Consolidated - OT", fy: "July 1 - June 30", priorities: ["Broadband", "Cybersecurity", "Cloud"], buyingModel: "Statewide Contracts", contract: "WV Statewide Contracts", play: "Pitch broadband infrastructure for the mountainous terrain.", agency: "Office of Technology (OT)" },
            WI: { name: "Wisconsin", governance: "Consolidated - DET", fy: "July 1 - June 30", priorities: ["ERP Modernization", "Broadband", "Cybersecurity"], buyingModel: "NASPO ValuePoint", contract: "WI State Contracts", play: "DET manages the data centers. Pitch HCI and modernization.", agency: "Div of Enterprise Tech (DET)" },
            WY: { name: "Wyoming", governance: "Consolidated - ETS", fy: "July 1 - June 30", priorities: ["Rural Health", "Broadband", "Education"], buyingModel: "NASPO ValuePoint", contract: "WY State Contracts", play: "Telehealth is critical here. Pitch VDI for remote doctors.", agency: "Enterprise Tech Services (ETS)" }
        };

        const chartData = {
            priorities: {
                labels: ['Cybersecurity Resilience', 'Cloud/Legacy Mod', 'Digital Citizen Services', 'Broadband Expansion', 'AI Governance'],
                data: [48, 45, 38, 30, 25],
                insights: [
                    "Cyber is a mandate in 42 states. Pitch: Cyber Recovery Vault.",
                    "Legacy Mod is funded by ARPA. Pitch: App Modernization Services.",
                    "Citizen Services needs 'OneID'. Pitch: Identity Mgmt Solutions.",
                    "Broadband money is flowing from IIJA. Pitch: Edge Computing.",
                    "AI is early stage. Pitch: Governance Consulting & Precision Workstations."
                ]
            },
            governance: {
                labels: ['Consolidated (Central IT)', 'Federated (Agency Autonomy)', 'Hybrid'],
                data: [28, 12, 10],
                insights: [
                    "Consolidated: Sell to the CIO. Focus on Standardization and ELAs.",
                    "Federated: Sell to the Agency Head. Treat DOT/HHS as separate Fortune 500s.",
                    "Hybrid: Sell 'Standards' to CIO, 'Outcomes' to Agencies."
                ]
            }
        };

        // --- CHART CONFIGURATION ---
        
        // Label wrapping helper
        function wrapLabel(label, maxChar = 16) {
            if (label.length <= maxChar) return label;
            const words = label.split(' ');
            const lines = [];
            let currentLine = words[0];
            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + 1 + words[i].length <= maxChar) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { position: 'bottom', labels: { padding: 20, font: { family: "'DM Sans', sans-serif" } } },
                tooltip: {
                    backgroundColor: '#fff',
                    titleColor: '#1f2937',
                    bodyColor: '#4b5563',
                    borderColor: '#e5e7eb',
                    borderWidth: 1,
                    padding: 12,
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            return Array.isArray(label) ? label.join(' ') : label;
                        }
                    }
                }
            }
        };

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            
            // 1. Render Priorities Chart
            const ctxPriorities = document.getElementById('prioritiesChart').getContext('2d');
            const prioritiesChart = new Chart(ctxPriorities, {
                type: 'bar',
                data: {
                    labels: chartData.priorities.labels.map(l => wrapLabel(l)),
                    datasets: [{
                        label: 'States Prioritizing',
                        data: chartData.priorities.data,
                        backgroundColor: '#4f46e5', // Indigo 600
                        borderRadius: 4,
                        barPercentage: 0.6
                    }]
                },
                options: {
                    ...commonOptions,
                    indexAxis: 'y',
                    onClick: (e, elements) => {
                        if (elements.length > 0) {
                            const index = elements[0].index;
                            updateInsight("Strategic Insight", chartData.priorities.insights[index]);
                        }
                    },
                    onHover: (event, chartElement) => {
                        event.native.target.style.cursor = chartElement[0] ? 'pointer' : 'default';
                    }
                }
            });

            // 2. Render Governance Chart
            const ctxGov = document.getElementById('governanceChart').getContext('2d');
            new Chart(ctxGov, {
                type: 'doughnut',
                data: {
                    labels: chartData.governance.labels.map(l => wrapLabel(l)),
                    datasets: [{
                        data: chartData.governance.data,
                        backgroundColor: ['#4f46e5', '#ea580c', '#0ea5e9'], // Indigo, Orange, Sky
                        borderWidth: 0
                    }]
                },
                options: {
                    ...commonOptions,
                    cutout: '70%',
                    onClick: (e, elements) => {
                        if (elements.length > 0) {
                            const index = elements[0].index;
                            updateInsight("Sales Strategy Tip", chartData.governance.insights[index]);
                        }
                    },
                    onHover: (event, chartElement) => {
                        event.native.target.style.cursor = chartElement[0] ? 'pointer' : 'default';
                    }
                }
            });

            // 3. Render Funding Chart
            const ctxFund = document.getElementById('fundingChart').getContext('2d');
            new Chart(ctxFund, {
                type: 'pie',
                data: {
                    labels: ['General Fund (State Tax)', 'Federal Grants', 'Chargeback/Fees', 'Bonds'],
                    datasets: [{
                        data: [45, 25, 20, 10],
                        backgroundColor: ['#57534e', '#ea580c', '#0ea5e9', '#d6d3d1'], // Stone, Orange, Sky, Light Stone
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    ...commonOptions,
                    plugins: {
                        legend: { position: 'right' },
                         tooltip: {
                            callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    return Array.isArray(label) ? label.join(' ') : label;
                                }
                            }
                        }
                    }
                }
            });

            // 4. Initialize State Selector
            const selector = document.getElementById('stateSelector');
            selector.addEventListener('change', (e) => {
                renderState(e.target.value);
            });
            renderState('CA'); // Default
        });

        // --- INTERACTION FUNCTIONS ---

        function updateInsight(title, text) {
            const container = document.getElementById('landscape-insight');
            const titleEl = document.getElementById('insight-title');
            const textEl = document.getElementById('insight-text');

            // Fade out
            container.style.opacity = '0.5';
            
            setTimeout(() => {
                titleEl.textContent = title;
                textEl.textContent = text;
                // Fade in
                container.style.opacity = '1';
                container.classList.add('bg-indigo-50', 'border-indigo-200'); // Highlight change
                setTimeout(() => container.classList.remove('bg-indigo-50', 'border-indigo-200'), 500);
            }, 150);
        }

        function toggleOppDetails(id) {
            const el = document.getElementById(`opp-details-${id}`);
            if (el.classList.contains('hidden')) {
                el.classList.remove('hidden');
                el.classList.add('fade-in');
            } else {
                el.classList.add('hidden');
            }
        }

        function renderState(code) {
            const data = stateData[code];
            if (!data) return;

            // Animate transition
            const container = document.getElementById('state-content');
            container.style.opacity = '0.7';

            setTimeout(() => {
                document.getElementById('state-name').textContent = data.name;
                document.getElementById('state-governance').textContent = data.governance;
                document.getElementById('state-fy').textContent = data.fy;
                
                // Buying
                document.getElementById('state-buying-model').textContent = data.buyingModel;
                document.getElementById('state-contract').textContent = data.contract;
                
                // Play
                document.getElementById('state-play').textContent = `"${data.play}"`;
                document.getElementById('state-agency').textContent = data.agency;

                // Priorities List
                const list = document.getElementById('state-priorities');
                list.innerHTML = '';
                data.priorities.forEach(p => {
                    const li = document.createElement('li');
                    li.className = 'flex items-start text-stone-600 text-sm';
                    li.innerHTML = `<span class="text-indigo-500 mr-2">‚óè</span> ${p}`;
                    list.appendChild(li);
                });

                container.style.opacity = '1';
            }, 200);
        }

    </script>
</body>
</html>